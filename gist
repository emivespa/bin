#!/bin/sh -e
#
# - GitHub gist helper
#
# TODO: take extension from $1

{
	if test -p /dev/stdin; then
		cat - ${@:-/dev/null}
	else
		cat ${@:-/dev/null}
	fi
} |
	vipe ${GIST_SUFFIX+"--suffix ${GIST_SUFFIX}"} |
	gh gist create - -w |
	awk '{ print $2 }' |
	cbx
